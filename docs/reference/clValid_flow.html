<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Cluster validation measure analysis workflow — clValid_flow • FBCanalysis</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Cluster validation measure analysis workflow — clValid_flow"><meta property="og:description" content="Interactive console workflow to calculate and evaluate cluster validation measures
which have been determined previously by the call init_clValid."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">FBCanalysis</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/Vignette.html">Develop and evaluate biomedical time series data clustering models based on Fluctuation Based Clustering (FBC)</a>
    </li>
  </ul></li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/MrMaximumMax/FBCanalysis/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Cluster validation measure analysis workflow</h1>
    <small class="dont-index">Source: <a href="https://github.com/MrMaximumMax/FBCanalysis/blob/HEAD/R/clValid.R" class="external-link"><code>R/clValid.R</code></a></small>
    <div class="hidden name"><code>clValid_flow.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Interactive console workflow to calculate and evaluate cluster validation measures
which have been determined previously by the call <a href="init_clValid.html">init_clValid</a>.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">clValid_flow</span><span class="op">(</span><span class="va">matrix</span>, <span class="va">par</span><span class="op">)</span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>matrix</dt>
<dd><p>Earth Mover's Distance Matrix for processed patient time series data (also see functions: <a href="emd_matrix.html">emd_matrix</a>, <a href="patient_list.html">patient_list</a>)</p></dd>
<dt>par</dt>
<dd><p>Object of type list storing clustering methods and cluster range of interest; initialized via function: <a href="init_clValid.html">init_clValid</a></p></dd>
</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>Object of type list storing chosen clustering method and number of clusters (can be then used for function <a href="clust_matrix.html">clust_matrix</a>)</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>The call guides through an interactive workflow and generates cluster
evaluation measures, stores and lists, visualizes corresponding plots and lets
the user decide which technique is the prefered one. Once the user has chosen
his favourite, the flow continues to the function <a href="clust_matrix.html">clust_matrix</a> and generates
the respective clustering output. The internal cluster validation methods utilize
just the dataset and the clustering partition as input and evaluates the
clustering’s quality by using intrinsic information included in the data.</p>
<p>The call calculates Connectivity, Silhouette width and Dunn index. Connectivity
describes the connectness to neighbors of particular clustering partition and
should be minimized. Silhouette width defines the average silhouette value for
each observation and should be maximized. The Dunnn index is a definition for
Ratio of shortest distance between non-cluster observation and greatest intra-cluster
distance and should be maximized likewise.</p>
<p>Furthermore, cluster stability measures are available, namely Average proportion
of non-overlap (APN), Average distance (AD), Average distance between means (ADM)
and Figure of merit (FOM). APN is the average proportion of observations that are
not clustered using complete and leaky data. AD defines the average distance in
observations for both complete and leaky data. ADM deals with the average distance
between cluster centers in complete and leaky data. FOM is a measure for average intra-
cluster variance in leaky data. All measures should be minimized. Furthermore,
Rank Aggregation may be performed. It approaches to provide a generic and flexible
framework for objectively integrating several ordered lists in a suitable and
efficient way. The used technique for evaluating clustering the rank is by a
Cross-entropy approach, which is incorporating Spearman’s footrule distance measure.
In the end a recommendation for the best fitting clustering model is given.</p>
    </div>
    <div id="references">
    <h2>References</h2>
    <p>Guy Brock, Vasyl Pihur, Susmita Datta, and Somnath Datta. clvalid:
An r package for cluster validation. Journal of Statistical Software, 25:1–22, 2008.</p>
<p>Julia Handl, Joshua Knowles, and Douglas B Kell. Computational cluster validation
in post-genomic data analysis. Bioinformatics, 21(15):3201–3212, 2005.</p>
<p>Peter J Rousseeuw. Silhouettes: a graphical aid to the interpretation and
validation of cluster analysis. Journal of computational and applied mathematics,
20:53–65, 1987.</p>
<p>Joseph C Dunn. Well-separated clusters and optimal fuzzy partitions. Journal of
cybernetics, 4(1):95–104, 1974.</p>
<p>Vasyl Pihur, Susmita Datta, and Somnath Datta. Weighted rank aggregation of
cluster validation measures: a monte carlo cross-entropy approach. Bioinformatics,
23(13):1607–1615, 2007.</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="va">list</span> <span class="op">&lt;-</span> <span class="fu"><a href="patient_list.html">patient_list</a></span><span class="op">(</span></span>
<span class="r-in"><span class="st">"https://raw.githubusercontent.com/MrMaximumMax/FBCanalysis/master/demo/phys/data.csv"</span>,</span>
<span class="r-in">GitHub <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Patient PEF FEV1     date</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1  test_a   1   33 01.01.21</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2  test_a   8   42 02.01.21</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3  test_a  18   35 03.01.21</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4  test_a  19   47 04.01.21</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5  test_a  19   37 05.01.21</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       V1  V2   V3   V4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Patient PEF FEV1 date</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        1   2    3    4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Which column represents the Patient_ID (please indicate number)?: </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Which column represents the time (please indicate number)?: </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Day:Month:Year 	 (1) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Month:Day:Year 	 (2) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Year:Month:Day 	 (3) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Year:Day:Month 	 (4) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Day:Month:Year:Hour:Min (5) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Month:Day:Year:Hour:Min (6) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Year:Month:Day:Hour:Min (7) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Year:Day:Month:Hour:Min (8) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> What's the time format (please indicate number)?: </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Twice daily 	 (1) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Daily 		 (2) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Twice a week 	 (3) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Weekly 	 (4) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Twice a month 	 (5) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Monthly 	 (6) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Twice a quarter (7) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Quarterly 	 (8) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> What's the sampling frequency (please indicate number)?: </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Sample missing values from First quartile 	 (1) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Sample missing values from Third quartile 	 (2) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Sample missing values from 5th percentile 	 (3) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Sample missing values from 95th percentile 	 (4) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Interpolate missing values and apply L1 Regularization / Lasso Regression 		 (5) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Interpolate missing values and apply L2 Regulariztation / Ridge Regression 		 (6) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Interpolate missing values and apply Elastic Net on Regression and Regularization 	 (7) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Interpolate missing values by Linear Spline 	 (8) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Interpolate missing values by Cubic C2 Spline 	 (9) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Select measure for filling up NA values: </span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in patient_list("https://raw.githubusercontent.com/MrMaximumMax/FBCanalysis/master/demo/phys/data.csv",     GitHub = TRUE):</span> object 'answer_a' not found</span>
<span class="r-in"><span class="co">#Sampling frequency is supposed to be daily</span></span>
<span class="r-in"><span class="va">distmat</span> <span class="op">&lt;-</span> <span class="fu"><a href="emd_matrix.html">emd_matrix</a></span><span class="op">(</span><span class="va">list</span>, <span class="st">"PEF"</span>, maxIter <span class="op">=</span> <span class="fl">5000</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   |                                                                              |                                                                      |   0%  |                                                                              |======================================================================| 100%</span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in plist[[i]]:</span> object of type 'builtin' is not subsettable</span>
<span class="r-in"><span class="va">parameters</span> <span class="op">&lt;-</span> <span class="fu"><a href="init_clValid.html">init_clValid</a></span><span class="op">(</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> The following methods are available for analysis </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Number Clustering method:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       1       hierarchical</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       2             kmeans</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       3              diana</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       4              fanny</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       5                som</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       6         modelbased</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       7               sota</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       8                pam</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       9              clara</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Indicate which methods to use (e.g. 1,2,8): </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Which cluster numbers do you want to include (e.g. 2:5)?: </span>
<span class="r-in"><span class="va">output</span> <span class="op">&lt;-</span> <span class="fu">clValid_flow</span><span class="op">(</span><span class="va">distmat</span>, <span class="va">parameters</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Do you want to perform internal cluster validation (y/n)?: </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Do you want to perform cluster stability validation (y/n)?: </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Do you want to perform rank aggregation? (y/n): </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in clValid_flow(distmat, parameters):</span> object 'distmat' not found</span>
<span class="r-in"></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Maximilian Koehler.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.2.</p>
</div>

      </footer></div>

  


  

  </body></html>

