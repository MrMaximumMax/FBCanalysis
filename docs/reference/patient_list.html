<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Process patient time series data — patient_list • FBCanalysis</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Process patient time series data — patient_list"><meta property="og:description" content="Process patient time series data by interpolation options and store data in
an object of type list."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">FBCanalysis</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/Vignette.html">Develop and evaluate biomedical time series data clustering models based on Fluctuation Based Clustering (FBC)</a>
    </li>
  </ul></li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/MrMaximumMax/FBCanalysis/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Process patient time series data</h1>
    <small class="dont-index">Source: <a href="https://github.com/MrMaximumMax/FBCanalysis/blob/HEAD/R/data_prep_and_process.R" class="external-link"><code>R/data_prep_and_process.R</code></a></small>
    <div class="hidden name"><code>patient_list.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Process patient time series data by interpolation options and store data in
an object of type list.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">patient_list</span><span class="op">(</span><span class="va">path</span>, <span class="va">GitHub</span><span class="op">)</span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>path</dt>
<dd><p>Path where csv file(s) are stored (only folder, not specific file(s))</p></dd>
<dt>GitHub</dt>
<dd><p>Set TRUE when csv file comes form GitHub (FALSE by default); only in demo needed</p></dd>
</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>Object of type list storing patient time series data</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>It should be outlined that no prior z-normalization is required!
Within FBCanalysis' functions, the user can indicate if normalization is
required or not.</p>
<p>Prior to undertaking an analysis using one of the FBC procedures,
it is necessary to adequately process and prepare the relevant time series data.
The function then creates an interactive flow using the console in R Studio.
To begin, the method retrieves all csv files in the provided folder, indicating
that it is capable of handling multiple files. The function extracts all csv files
from the given directory and merges them into a single raw data frame. The user
then indicates which column represents Patient ID and time for adequate processing.
The csv files are merged, columns are selected where the Patient ID column will
be renamed ”Patient_ID” and the time column will be titled ”Time”. This
standardization approach is critical for subsequent features because it enables
the easy detection of time series data and the consistent computation and
processing of data, for example z-normalization.</p>
<p>The user should also indicate in the interactive console the time formate which
will be standardized with the help of lubridate. This is crucial because
the technique can now filter the raw data by Patient ID, extract the start and
end timestamps for each Patient ID, and then align the data if any records are
missing while maintaining the indicated sample frequency.</p>
<p>The user may choose between seven approaches: L1 Regularization/Least absolute
shrinkage and selection operator (LASSO) Regression, L2 Regularization/Ridge
Regression, Elastic Net Regularization, Linear interpolation, Cubic C2 interpolation
or, according to recent articles, fill in missing values using the highest or
lowest quartile of measurements in the given time series data distribution.</p>
<p>The Regression and Regularization techniques generate adequate polynomials for
each possible degree n-1 (where n is the total number of data points). Afterwards,
cross-validation (from glmnet) is applied to determine the lambda value
for the lowest MSE of the model. Afterwards, the model with polynomial degree
for the lowest MSE is chosen and the missing data is interpolated with the
regularized model.</p>
<p>It is also possible to apply a simple linear interpolation in between missing
time series data points. It may be the easiest option to employ straight lines
between neighboring points (also see na_interpolation). Nevertheless,
these basic spline polynomials may be notoriously inexact. Cubic spline polynomials
mostly provide better results.</p>
<p>Another option for the user is to apply the interpolation by using a cubic C spline.
It implies that the composite function S must be twice continuously differentiable
from all boundaries or subintervals (also see na_interpolation).</p>
<p>Without regression, regularization or interpolation, the user may opt to sample
missing values within time series data by randomly choosing a value from the
greatest or lowest quartile readings from each patient distribution. The R
function then loops over each NA element in the time series data distribution
of a patient for the specified parameter and randomly samples a value for the
chosen quartile until the data frame is complete.</p>
    </div>
    <div id="references">
    <h2>References</h2>
    <p>Jerome Friedman, Trevor Hastie, Rob Tibshirani, Balasubramanian
Narasimhan, Ken- neth Tay, Noah Simon, and Junyang Qian. Package ‘glmnet’.
Journal of Statistical Software. 2010a, 33(1), 2021.</p>
<p>Hui Zou and Trevor Hastie. Regularization and variable selection via the elastic net.
Journal of the royal statistical society: series B (statistical methodology),
67(2):301– 320, 2005.</p>
<p>Steffen Moritz and Thomas Bartz-Beielstein. imputets: time series missing value
imputation in r. R J., 9(1):207, 2017.</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="va">list</span> <span class="op">&lt;-</span> <span class="fu">patient_list</span><span class="op">(</span></span>
<span class="r-in"><span class="st">"https://raw.githubusercontent.com/MrMaximumMax/FBCanalysis/master/demo/phys/data.csv"</span>,</span>
<span class="r-in">GitHub <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Patient PEF FEV1     date</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1  test_a   1   33 01.01.21</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2  test_a   8   42 02.01.21</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3  test_a  18   35 03.01.21</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4  test_a  19   47 04.01.21</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5  test_a  19   37 05.01.21</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       V1  V2   V3   V4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Patient PEF FEV1 date</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        1   2    3    4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Which column represents the Patient_ID (please indicate number)?: </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Which column represents the time (please indicate number)?: </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Day:Month:Year 	 (1) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Month:Day:Year 	 (2) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Year:Month:Day 	 (3) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Year:Day:Month 	 (4) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Day:Month:Year:Hour:Min (5) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Month:Day:Year:Hour:Min (6) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Year:Month:Day:Hour:Min (7) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Year:Day:Month:Hour:Min (8) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> What's the time format (please indicate number)?: </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Twice daily 	 (1) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Daily 		 (2) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Twice a week 	 (3) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Weekly 	 (4) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Twice a month 	 (5) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Monthly 	 (6) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Twice a quarter (7) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Quarterly 	 (8) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> What's the sampling frequency (please indicate number)?: </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Sample missing values from First quartile 	 (1) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Sample missing values from Third quartile 	 (2) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Sample missing values from 5th percentile 	 (3) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Sample missing values from 95th percentile 	 (4) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Interpolate missing values and apply L1 Regularization / Lasso Regression 		 (5) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Interpolate missing values and apply L2 Regulariztation / Ridge Regression 		 (6) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Interpolate missing values and apply Elastic Net on Regression and Regularization 	 (7) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Interpolate missing values by Linear Spline 	 (8) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Interpolate missing values by Cubic C2 Spline 	 (9) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Select measure for filling up NA values: </span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in `[.data.frame`(raw.data, , "Patient_ID"):</span> undefined columns selected</span>
<span class="r-in"><span class="co">#Sampling frequency is supposed to be daily</span></span>
<span class="r-in"></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Maximilian Koehler.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.2.</p>
</div>

      </footer></div>

  


  

  </body></html>

