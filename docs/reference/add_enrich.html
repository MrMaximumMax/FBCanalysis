<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Add enrichment data from a csv file, match with Patient ID entries from a
previously generated time series data list and preprocess for further analysis."><title>Add enrichment data from a csv file, match with Patient ID entries from a
previously generated time series data list and preprocess for further analysis. — add_enrich • FBCanalysis</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Add enrichment data from a csv file, match with Patient ID entries from a
previously generated time series data list and preprocess for further analysis. — add_enrich"><meta property="og:description" content="Add enrichment data from a csv file, match with Patient ID entries from a
previously generated time series data list and preprocess for further analysis."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">FBCanalysis</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/Vignette.html">Develop and evaluate biomedical time series data clustering models based on Fluctuation Based Clustering (FBC)</a>
  </div>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/MrMaximumMax/FBCanalysis/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Add enrichment data from a csv file, match with Patient ID entries from a
previously generated time series data list and preprocess for further analysis.</h1>
      <small class="dont-index">Source: <a href="https://github.com/MrMaximumMax/FBCanalysis/blob/HEAD/R/enrichment.R" class="external-link"><code>R/enrichment.R</code></a></small>
      <div class="d-none name"><code>add_enrich.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Add enrichment data from a csv file, match with Patient ID entries from a
previously generated time series data list and preprocess for further analysis.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">add_enrich</span><span class="op">(</span><span class="va">plist</span>, <span class="va">path</span><span class="op">)</span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>plist</dt>
<dd><p>List storing patient time series data (also see function: <a href="patient_list.html">patient_list</a>)</p></dd>
<dt>path</dt>
<dd><p>Path where enrichment csv file is stored</p></dd>
</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>Processed data as object of type data frame; Enrichment data Patient_IDs are matched with Time Series Data List Patient IDs; In case it was indicated, NA values in the enrichment data are filled up by random sampling</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>the enrichment csv file should have a column including the Patient ID.
Additionally, the user specifies the list in which time series data is saved.
This is advantageous since the function can now do matching, i.e. determine
which Patient IDs occur in both the enrichment dataset and time series datalist.
So for a result, any Patient ID that appears in the enrichment dataset but
does not exist in the time series datalist will be deleted from the enrichment
dataset, as it cannot be used in any further investigation. Nonetheless,
Patient IDs from the time series data that do not appear in the enrichment dataset
will be added to the enrichment dataset, but each new parameter will be featureless,
so added as NA value.</p>
<p>If the user selects option 1 (leave missing values as NA), no further processing
of the input occurs. The enrichment data set will be added to the environment as
a data frame. In this situation, the NA values from the enrichment dataset will be
included in the summary indicating, for example, that a certain cluster has a given
percentage of missing values. This may also lead to some additional findings, such
as that a specific parameter considerably enriches a cluster yet many data is absent.
If the user selects option 2 (sample missing values), the function loops over each
NA entry and selects a random value from the whole distribution for the parameter
for which the data is missing. This cycle is repeated until the whole dataset has
been processed and the data will be added as a data frame to the environment.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="va">list</span> <span class="op">&lt;-</span> <span class="fu"><a href="patient_list.html">patient_list</a></span><span class="op">(</span></span>
<span class="r-in"><span class="st">"https://raw.githubusercontent.com/MrMaximumMax/FBCanalysis/master/demo/phys/data.csv"</span>,</span>
<span class="r-in">GitHub <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Patient PEF FEV1     date</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1  test_a   1   33 01.01.21</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2  test_a   8   42 02.01.21</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3  test_a  18   35 03.01.21</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4  test_a  19   47 04.01.21</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5  test_a  19   37 05.01.21</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       V1  V2   V3   V4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Patient PEF FEV1 date</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        1   2    3    4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Which column represents the Patient_ID (please indicate number)?: </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Which column represents the time (please indicate number)?: </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Day:Month:Year 	 (1) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Month:Day:Year 	 (2) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Year:Month:Day 	 (3) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Year:Day:Month 	 (4) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Day:Month:Year:Hour:Min (5) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Month:Day:Year:Hour:Min (6) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Year:Month:Day:Hour:Min (7) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Year:Day:Month:Hour:Min (8) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> What's the time format (please indicate number)?: </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Twice daily 	 (1) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Daily 		 (2) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Twice a week 	 (3) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Weekly 	 (4) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Twice a month 	 (5) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Monthly 	 (6) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Twice a quarter (7) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Quarterly 	 (8) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> What's the sampling frequency (please indicate number)?: </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Sample missing values from top quantile 	 (1) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Sample missing values with bottom quantile 	 (2) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Interpolate missing values and apply L1 Regularization / Lasso Regression (3) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Interpolate missing values and apply L2 Regulariztation / Ridge Regression (4) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Interpolate missing values and apply Elastic Net on Regression and Regularization (5) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Interpolate missing values by Linear Spline (6) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Interpolate missing values by Cubic C2 Spline (7) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Select measure for filling up NA values: </span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in `[.data.frame`(raw.data, , "Patient_ID"):</span> undefined columns selected</span>
<span class="r-in"><span class="co">#Sampling frequency is supposed to be daily</span></span>
<span class="r-in"><span class="va">enr</span> <span class="op">&lt;-</span> <span class="fu">add_enrich</span><span class="op">(</span><span class="va">list</span>,</span>
<span class="r-in"><span class="st">'https://raw.githubusercontent.com/MrMaximumMax/FBCanalysis/master/demo/enrich/enrichment.csv'</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      Patient_ID Gender    Location Age BMI</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1          b301      F        City  10  26</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 patient_ID_32      F        City  12  27</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3     testpat_2      F        City  16  NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4          a100      F Countryside   8  20</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5          a300      M Countryside   7  22</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          V1     V2       V3  V4  V5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Patient_ID Gender Location Age BMI</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           1      2        3   4   5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Which column represents the Patient_ID (please indicate number)?: </span>
<span class="r-in"></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Maximilian Koehler.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.2.</p>
</div>

    </footer></div>

  

  

  </body></html>

